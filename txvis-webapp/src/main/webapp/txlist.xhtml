<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core">

<h:head>
<title>TxVis</title>
    <h:outputStylesheet library="css" name="bootstrap.min.css"  />
</h:head>

<h:body>
   <div class="container">
       <div class="page-header">
           <h1>Transaction Visualisation Tool</h1>
       </div>
       <h:form class="form-inline">
           <div>
               <h4>Filter</h4>
               <h:outputLabel for="filterByStatus" value="By Status: " />
               <h:selectOneMenu id="filterByStatus" value="#{transactionListBean.filterByStatus}">
                   <f:selectItem itemLabel="ALL" itemValue="" />
                   <f:selectItems value="#{transactionListBean.statuses}" />
                   <f:ajax render="txlist" event="change" execute="filterByStatus" />
               </h:selectOneMenu>
           </div>
           <div>
               <h:dataTable value="#{transactionListBean.transactionsList}" id="txlist" var="transaction"
                            styleClass="table table-striped">
                   <h:column>
                       <f:facet name="header">Transaction ID</f:facet>
                       <h:link value="#{transaction.txuid}" outcome="txinfo" >
                           <f:param name="includeViewParams" value="true" />
                           <f:param name="txid" value="#{transaction.id}" />
                       </h:link>
                   </h:column>
                   <h:column>
                       <f:facet name="header">Distributed</f:facet>
                       #{transaction.distributed}
                   </h:column>
                   <h:column>
                       <f:facet name="header">Status</f:facet>
                       #{transaction.status}
                   </h:column>
                   <h:column>
                       <f:facet name="header">Duration</f:facet>
                       #{transaction.duration}ms
                   </h:column>
               </h:dataTable>
           </div>
       </h:form>
   </div>

    <h:outputScript library="js" name="jquery-1.9.1.min.js" />
    <h:outputScript library="js" name="bootstrap.min.js" />
</h:body>
</html>
